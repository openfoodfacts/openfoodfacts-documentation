---
title: "Virtual Machines Overview"
description: "This document provides an overview of the virtual machines used in the Open Food Facts infrastructure. It details their specifications, including operating system, CPU, RAM, storage, and the services they host. The document also includes a table summarizing various VMs and their current status."
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Card, Cards } from 'fumadocs-ui/components/card';
import { Steps, Step } from 'fumadocs-ui/components/steps';
import { Tabs, Tab } from 'fumadocs-ui/components/tabs';

This document provides a comprehensive overview of the virtual machines used in the Open Food Facts infrastructure.

<Callout type="info">
Our infrastructure uses a mix of Proxmox containers and QEMU VMs to host various services, from database servers to application containers and monitoring tools.
</Callout>

## VM Categories

<Tabs items={["production", "development", "infrastructure"]}>
  <Tab value="production">
    Production VMs hosting live services:
    - **off-net**: ProductOpener frontend + backend, MongoDB, PostgreSQL, Memcached
    - **robotoff-net**: Robotoff API + Schedulers + Workers, PostgreSQL DB
    - **robotoff-ml**: Tensorflow + ElasticSearch for ML models
    - **monitoring**: Docker-based observability stack
  </Tab>
  
  <Tab value="development">
    Development and testing environments:
    - **robotoff-dev**: Development instance with full stack
    - **mongo-dev**: MongoDB development instance
    - **Folksonomy Engine API dev**: PostgreSQL, Python3
  </Tab>
  
  <Tab value="infrastructure">
    Supporting infrastructure services:
    - **Monitoring VM**: ElasticSearch, Grafana, InfluxDB, Prometheus
    - **Mail services**: Postfix, mail processing
    - **Proxy services**: Nginx reverse proxy configurations
  </Tab>
</Tabs>

## VM Inventory

<Callout type="info">
This table is auto-generated by the readme-writer action and shows current VM status and specifications.
</Callout>

{/* This table is auto-generated by the readme-writer action */}
{/* VM table */}
| Title | State | OS | CPU # | RAM | SSD (Local) | HDD (Remote) | Services |
|-------|-------|----|----|-----|--------------|-------------|----------|
| [Cleanup containers mount points for opf / obf / opff / off [#449]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/449) | open | | | | | | |
| [Wordpress test CT [#200]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/200) | open | Debian last Stable. | 3 | [Explain if > 4 Gb.] | 6 GB. | 0 | Apache, PHP, Wordpress. |
| [Monitoring - VM (QEMU host for docker) [#159]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/159) | open | Debian | * 4 CPUs | * 12G for we have influxdb and elastic-search that needs memory | * 30 Go disk (it is currently around 14G, but this will grow because we want to harvest more logs and more metrics) | * 50Go for ES backups | Docker, docker-compose |
| [CT for new blog engine [#80]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/80) | open | Debian stable. | 3 CPU. | 2 GB. | 10 GB | -- | LAMP + wordpress. |
| [CT for Folksonomy Engine API dev [#76]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/76) | open | Default to Debian last Stable. | 2 | 1 GB | 12 GB. | - | PostgreSQL, Python3. |
| [adminer-org [#29]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/29) | open | Debian 10 | 2 | 512 Mb. | 4 Gb or even less. | 0 | Nginx, PHP, Adminer. |
| [feedme-org [#27]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/27) | open | Debian 10 | 3 | 3 Gb. | 15 Gb. | 0 | PostgreSQL, Node.js, Nginx. |
| [off-wiki-org [#21]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/21) | open | Debian 10 | 2 | 3 Gb | 14 Gb. | 14 Gb | Apache, PHP, MySQL, Mediawiki. |
| [VM for the Community Portal [#124]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/124) | closed | Debian last Stable. | [Explain if > 4.] | [Explain if > 4 Gb.] | [Explain if > 32 Gb.] | [Explain if > 1 Tb.] | Python/Django, probably PostgreSQL, probably Apache and all Dockerized |
| [VM for the Taxonomy Editor [#123]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/123) | closed | Debian last Stable. | [Explain if > 4.] | [Explain if > 4 Gb.] | [Explain if > 32 Gb.] | [Explain if > 1 Tb.] | Python, probably PostgreSQL, probably Apache for lightweight API serving from Docker |
| [New VM QEMU for prod docker containers [#71]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/71) | closed | Debian 11 (stable) | 8 | 24 GB | 256 GB. | - | Services deployed in production: |
| [monitoring [#59]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/59) | closed | Debian 11 | 4 | 32GB | 64GB | 500GB (ovh3 mount) | Docker: ElasticSearch (Kibana?, Logstash?), Grafana, InfluxDB, Prometheus, Alertmanager |
| [impactestimator-net [#55]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/55) | closed | Debian 11 | 1 | 1GB | 1Gb | 0 | https://github.com/openfoodfacts/impactestimator |
| [robotoff-ml [#53]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/53) | closed | Debian 11 | 8 | 96GB (Tensorflow, ANN) | 192GB [ML models] | 100GB | Tensorflow + ElasticSearch |
| [robotoff-net [#51]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/51) | closed | Debian 11 | 4 | 16GB (DB 4GB, Services 8GB) | 92GB | 0GB | Robotoff API + Schedulers + Workers, PostgreSQL DB |
| [mongo-dev [#45]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/45) | closed | Debian 10 | 2 | 16GB | 40GB | | MongoDB running in Docker |
| [off-net [#41]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/41) | closed | Debian 10 | 4 | 16GB (PO needs > 6GB) | 192GB | 0GB | ProductOpener frontend + backend, MongoDB, PostgreSQL, Memcached |
| [robotoff-dev [#40]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/40) | closed | Debian 10 | 4 | 8 Gb | 32 Gb | 100 Gb | robotoff, elastic search, tensorflow, postgresql |
| [Wild School Eco-Score project [#37]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/37) | closed | Debian 10 | 4 | 16 Gb | 30 Gb | 0 | MongoDB |
| [slack-org [#36]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/36) | closed | Debian 10 | 1 | 1 Gb | 10 Gb | None | Node.js |
| [Containers (x2) to build a replica set for OFF database [#28]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/28) | closed | Debian 10 | 4 | 32 GB | 50 GB (DB = 20 GB). | 0 | Mongodb. |
| [Matomo [#24]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/24) | closed | Debian 10 | No idea. | No idea. | No idea. | No idea. | LAMP |
| [robotoff-org [#20]](https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/20) | closed | Debian 10 | 4 | 8 Gb | 32 Gb | 100 Gb | robotoff, elastic search, tensorflow, postgresql |
{/* VM table */}

## Request New VM

<Steps>
  <Step>
    **Access GitHub Template**
    
    Click the "Request a VM" link below to open the GitHub issue template.
  </Step>
  
  <Step>
    **Fill VM Requirements**
    
    Provide details about:
    - Service purpose and description
    - Required OS (typically Debian stable)
    - CPU, RAM, and storage requirements
    - Network configuration needs
  </Step>
  
  <Step>
    **Submit Request**
    
    Submit the GitHub issue for review and provisioning.
  </Step>
</Steps>

<Card 
  title="Request a VM" 
  href="https://github.com/openfoodfacts/openfoodfacts-infrastructure/issues/new?assignees=cquest&labels=container&template=vm-template.md&title="
  description="Submit a request for a new virtual machine using the GitHub issue template"
/>

<Callout type="info">
When requesting a new VM, consider resource requirements, backup needs, and whether the service could be containerized instead.
</Callout>